{% extends "base.html" %}
{% block title %}{{ event.title }} â€¢ Ticket{% endblock %}
{% block content %}
{% if not ticket.stamped %} 
    {% set ticket_status = "not_stamped" %}
    {% set bg_class = "bg-green-500" %}
    {% set icon = "fa-check-circle" %}
{% else %}
    {% set ticket_status = "stamped" %}
    {% set bg_class = "bg-yellow-500" %}
    {% set icon = "fa-certificate" %}
{% endif %}
<div class="w-screen h-screen p-4 space-y-3 flex flex-col">
    <div class="text-center text-xs font-mono opacity-40">{{ ticket.id }}</div>
    <div class="flex flex-col space-y-2">
        <h1 class="font-bold text-xl text-center">{{ event.title }}</h1>
        <p>
            {% if event.extra_info %} {{ event.extra_info }} {% endif %}
        </p>
    </div>
    <div class="flex items-center justify-center">
        <img src="https://quickchart.io/qr?text=https%3A%2F%2Ftsoha-keepgate.herokuapp.com%2Fticket%2F{{ ticket.id }}%2Fcheck&margin=0&ecLevel=L&size=200&format=svg" alt="qr code"></img>
    </div>
    <div class="flex justify-center">
        <span class="px-2 py-1 rounded-full flex items-center space-x-2 text-white {{ bg_class }}">
            <i class="fas {{ icon }}"></i>
            <span>{% if ticket_status == "not_stamped" %} Unstamped {% else %} Stamped {% endif %}</span>
        </span>
    </div>
    {% if ticket.extra_info or ticket.user_id %}
        <div class="pt-3 border-t text-xl text-center flex-grow">
            {% if ticket.user_id %}
                <div class="text-center font-bold">
                    @{{ ticket.user_id }}
                </div>
            {% endif %}
            {{ ticket.extra_info }}
        </div>
    {% else %}
        <div class="flex-grow"></div>
    {% endif %}
    <div class="">
        Unstamp
    </div>
</div>
{% endblock %}